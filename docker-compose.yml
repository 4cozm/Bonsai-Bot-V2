services:
    redis:
        image: redis:7.4-alpine
        container_name: bonsai-bot-redis
        command: ["redis-server", "--appendonly", "yes"]
        ports:
            - "6379:6379"
        volumes:
            - bonsai_bot_redis_data:/data
        healthcheck:
            test: ["CMD", "redis-cli", "ping"]
            interval: 3s
            timeout: 2s
            retries: 20
        restart: unless-stopped

volumes:
    bonsai_bot_redis_data:
